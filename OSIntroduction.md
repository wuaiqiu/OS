操作系统引论

一．操作系统的发展史
----无操作系统的计算机系统
A.人工操作
 (1) 用户独占全机。 (2) CPU等待人工操作。
B.脱机输入/输出(Off-Line I/O)方式

(1)减少了CPU的空闲时间。 
(2)提高I/O速度。
----单道批处理系统
A.单道批处理系统(Simple Batch Processing System)
在单道批处理系统中，内存中仅有一道作业，它无法充分利用系统中的所有资源，致使系统性能较差。
.
               (1) 自动性。 (2) 顺序性。  (3) 单道性。
----多道批处理系统
A.多道批处理系统(Multiprogrammed Batch Processing System)
在该系统中， 用户所提交的作业都先存放在外存上并排成一个队列，称为“后备队列”；然后，由作业调度程序按一定的算法从后备队列中选择若干个作业调入内存，使它们共享CPU和系统中的各种资源。
优点：
(1)提高CPU的利用率
(2)可提高内存和I/O设备利用率
(3)增加系统吞吐量
特点：
(1)多道性。 (2)无序性。 (3)调度性。
---分时系统
A.分时系统(Time-Sharing System)
用户能与自己的作业进行交互，即当用户在自己的终端上键入命令时， 系统应能及时接收并及时处理该命令，再将结果返回给用户。即使有多个用户同时通过自己的键盘键入命令，系统也应能全部地及时接收并处理
(1)多路性。(2)独立性。 (3)及时性。 (4)交互性
---实时系统
A.实时系统(Real-Time System)
系统能及时(或即时)响应外部事件的请求，在规定的时间内完成对该事件的处理，并控制所有实时任务协调一致地运行。
(1)多路性。 (2)独立性。 (3)及时性。 (4)交互性。 (5)可靠性。
二．操作系统的基本特性
 (1)并发(Concurrence)
在多道程序环境下，并发性是指在一段时间内，宏观上有多个程序在同时运行，微观上这些程序只能是分时地交替执行。倘若在计算机系统中有多个处理机，则这些可以并发执行的程序便可被分配到多个处理机上，实现并行执行
(2)共享(Sharing)
共享是指系统中的资源可供内存中多个并发执行的进程(线程)共同使用。主要有以下两种资源共享方式
a.互斥共享方式
系统中的某些资源，如打印机、磁带机，虽然它们可以提供给多个进程(线程)使用，但在一段时间内只允许一个进程(线程)访问该资源。我们把这种资源称为临界资源或独占资源。
b.同时访问方式
典型的可供多个进程“同时”访问的资源是磁盘设备，即若干个用户同时访问该文件。
(3)虚拟(Virtual)
指通过某种技术把一个物理实体变为若干个逻辑上的对应物。相应地，用于实现虚拟的技术，称为虚拟技术。在OS中利用了多种虚拟技术，分别用来实现虚拟处理机、虚拟内存、 虚拟外部设备和虚拟信道等。
(4)异步性(Asynchronism) 
由于资源等因素的限制，使进程的执行通常都不是“一气呵成”，而是以“停停走走”的方式运行。进程是以人们不可预知的速度向前推进，此即进程的异步性
三．操作系统的主要功能
(1)处理机管理
a.进程控制:进程控制的主要功能是为作业创建进程、撤消已结束的进程，以及控制进程在运行过程中的状态转换。  
b.进程同步:进程同步的主要任务是为多个进程(含线程)的运行进行协调。有两种协调方式： ① 进程互斥方式， 这是指诸进程(线程)在对临界资源进行访问时， 应采用互斥方式； ② 进程同步方式，指在相互合作去完成共同任务的诸进程(线程)间，由同步机构对它们的执行次序加以协调。
c.进程通信
d.调度:在传统的操作系统中，包括作业调度和进程调度两步。作业调度的基本任务，是从后备队列中按照一定的算法，选择出若干个作业，为它们分配其必需的资源(首先是分配内存)。 在将它们调入内存后，便分别为它们建立进程，使它们都成为可能获得处理机的就绪进程，并按照一定的算法将它们插入就绪队列。而进程调度的任务，则是从进程的就绪队列中选出一新进程，把处理机分配给它，并为它设置运行现场， 使进程投入执行。
(2)存储器管理
a.内存分配:OS在实现内存分配时，可采取静态和动态两种方式。在静态分配方式中，每个作业的内存空间是在作业装入时确定的；在作业装入后的整个运行期间， 不允许该作业再申请新的内存空间，也不允许作业在内存中“移动”； 在动态分配方式中，每个作业所要求的基本内存空间， 也是在装入时确定的，但允许作业在运行过程中，继续申请新的附加内存空间，以适应程序和数据的动态增涨，也允许作业在内存中“移动”。
b.内存保护:内存保护的主要任务，是确保每道用户程序都只在自己的内存空间内运行，彼此互不干扰。
c.地址映射:使程序能正确运行，存储器管理必须提供地址映射功能，以将地址空间中的逻辑地址转换为内存空间中与之对应的物理地址。
d.内存扩充:存储器管理中的内存扩充任务，并非是去扩大物理内存的容量，而是借助于虚拟存储技术，从逻辑上去扩充内存容量，使用户所感觉到的内存容量比实际内存容量大得多；
(3)设备管理
a.缓冲管理:如果在I/O设备和CPU之间引入缓冲，则可有效地缓和CPU和I/O设备速度不匹配的矛盾，提高CPU的利用率，进而提高系统吞吐量。
b.设备分配:设备分配的基本任务，是根据用户进程的I/O请求、系统的现有资源情况以及按照某种设备分配策略，为之分配其所需的设备
c.设备处理:设备处理程序又称为设备驱动程序。其基本任务是用于实现CPU和设备控制器之间的通信，即由CPU向设备控制器发出I/O命令，要求它完成指定的I/O操作；反之由CPU接收从控制器发来的中断请求，并给予迅速的响应和相应的处理
(4)文件管理
a.文件存储空间的管理:其主要任务是为每个文件分配必要的外存空间，提高外存的利用率，并能有助于提高文件系统的运行速度。
b.目录管理:目录管理的主要任务， 是为每个文件建立其目录项，并对众多的目录项加以有效的组织，以实现方便的按名存取。即用户只须提供文件名， 即可对该文件进行存取。目录项包括文件名、文件属性、文件在磁盘上的物理位置等
c.文件的读/写管理和保护:(1) 文件的读/写管理。该功能是根据用户的请求，从外存中读取数据；或将数据写入外存。(2) 文件保护。① 防止未经核准的用户存取文件； ② 防止冒名顶替存取文件； ③ 防止以不正确的方式使用文件
(5)用户接口
a.命令接口
b.程序接口:该接口是为用户程序在执行中访问系统资源而设置的，是用户程序取得操作系统服务的惟一途径。它是由一组系统调用组成，每一个系统调用都是一个能完成特定功能的子程序，
c.图形接口